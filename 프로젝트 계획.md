# Starry 프로젝트 계획

## 📋 프로젝트 개요

**프로젝트명:** Starry
**참고 사이트:** 내 트리를 꾸며줘
**타겟:** 모바일 웹 중심, 데스크톱 반응형 지원

**핵심 컨셉:**
사용자가 만든 밤하늘에 다른 사용자들이 참여해 데이터를 남기고, 그 데이터를 바탕으로 별을 생성해 꾸밀 수 있는 서비스

---

## 🛠 기술 스택

### 프론트엔드
- **프레임워크:** React 19.2.0 (Vite 7.2.4) ✅
- **라우팅:** React Router 7.10.1 ✅
- **스타일링:** Tailwind CSS 3.4.19 ✅
- **캔버스 라이브러리:** Fabric.js / Konva (추후 선택)
- **차트/인포그래픽:** Chart.js / Recharts (추후 선택)
- **상태관리:** React Hooks (useState, useEffect) ✅

### 백엔드
- **현재 구조:** Supabase만 사용 (Node.js 백엔드는 필요시 추후 추가)
- **인증:** Supabase Auth (구현 예정)
- **API:** Supabase Client (@supabase/supabase-js 2.87.1) ✅

### 데이터베이스 & 서비스
- **데이터베이스:** Supabase (PostgreSQL) ✅
- **인증:** Supabase Auth (설정 완료, 구현 예정)
- **스토리지:** Supabase Storage (설정 완료, 구현 예정)
- **실시간:** Supabase Realtime (필요시)

---

## 📁 프로젝트 구조

```
Starry/
├── public/
│   ├── Logo.png          # Starry 로고 이미지 ✅
│   └── BackGround.jpg    # 배경 이미지 ✅
├── src/
│   ├── components/       # 재사용 컴포넌트 (추후 추가)
│   ├── pages/            # 페이지 컴포넌트
│   │   └── LoadingPage.jsx  # 로딩/로그인 페이지 ✅
│   ├── services/         # API 통신
│   │   └── supabase.js   # Supabase 클라이언트 ✅
│   ├── utils/            # 유틸리티 함수 (추후 추가)
│   ├── hooks/            # 커스텀 훅 (추후 추가)
│   ├── App.jsx           # 메인 앱 컴포넌트 ✅
│   ├── main.jsx          # 엔트리 포인트 ✅
│   └── index.css         # 글로벌 스타일 ✅
├── .env                  # Supabase 환경 변수 ✅
├── .gitignore            # Git 제외 파일 ✅
├── package.json          # 의존성 패키지 ✅
├── vite.config.js        # Vite 설정 ✅
├── tailwind.config.js    # Tailwind CSS 설정 ✅
├── postcss.config.js     # PostCSS 설정 ✅
├── 기본 기능.md          # 기능 명세서
└── 프로젝트 계획.md      # 프로젝트 계획서

* Note: 백엔드는 현재 별도 구성 없이 Supabase로 대체
* 필요시 추후 Node.js 백엔드 추가 가능
```

---

## 🎯 주요 기능

### 1. 회원 기능
- 로그인 / 회원가입 / 로그아웃
- 소셜 로그인 (Google, Kakao 등)
- 사용자 프로필 관리

### 2. 밤하늘 페이지 생성
- 사용자별 고유 URL 생성 (`starry.app/u/{userId}`)
- 링크 공유 기능

### 3. 질문/응답 시스템
- 5지선다 질문 페이지
- 응답 제출 및 저장

### 4. 별 생성 로직
- 응답 결과에 따른 별 디자인 결정
  - 색상
  - 형태
  - 반짝임
  - 크기
  - 애니메이션
- 랜덤 위치 배치
- 같은 답변도 변형 적용

### 5. 밤하늘 에디터
- 캔버스 기반 편집
- 별 드래그 & 이동
- 별 삭제/되돌리기
- 별 간 선 연결
- 확대/축소 (Pinch Zoom)
- 캔버스 드래그 이동

### 6. 이미지 저장
- 밤하늘 이미지 다운로드 (PNG/JPEG)
- 고화질 옵션 제공

### 7. 인포그래픽 대시보드
- 답변별 비율 그래프
- 총 참여자 수
- 디자인별 분포
- 날짜별 응답 흐름

### 8. 인포그래픽 이미지 저장
- 인포그래픽 이미지 다운로드
- SNS 공유용 템플릿 (선택)

---

## 📱 UI/UX 요구사항

- **모바일 최우선 설계**
- 데스크톱에서는 중앙 정렬 및 확장 레이아웃
- 직관적이고 감성적인 디자인
- 부드러운 애니메이션 및 인터랙션

---

## 🚀 개발 계획

### Phase 1: 프론트엔드 디자인 및 UI 구축 (진행 중)
1. ✅ 프로젝트 초기 설정 (Vite + React)
   - React 19.2.0 + Vite 7.2.4 프로젝트 생성
   - React Router 7.10.1 설치 및 설정
   - Tailwind CSS 3.4.19 설치 및 설정
   - Supabase 클라이언트 연동 완료

2. ✅ 디자인 시스템 구축
   - Tailwind 커스텀 컬러 팔레트 정의 (starry-dark, starry-blue, starry-purple 등)
   - 커스텀 애니메이션 정의 (fadeInUp, glow)
   - 글로벌 스타일 설정 완료

3. 🔄 주요 페이지 UI 구현
   - ✅ **LoadingPage (로딩/로그인 통합 페이지)**
     - 2초 로딩 후 로그인 폼 표시 애니메이션
     - 배경 이미지 (BackGround.jpg) 적용
     - 광고 배너 영역 (h-16, 상단)
     - Starry 로고 (초기: w-64, 로딩 완료 후: w-32로 축소)
     - 서브타이틀 ("당신을 닮은, 단 하나의 별자리")
     - 이메일/비밀번호 입력 필드 (purple 테두리, inset shadow)
     - 로그인 버튼 (purple-600)
     - 간편 로그인 섹션 (4개 소셜 로그인 버튼 플레이스홀더)
     - 언어 선택 버튼 (globe 아이콘 + English 텍스트)
     - 하단 저작권 및 개발자 정보
     - 모바일 최적화 반응형 디자인 (max-w-[280px] 로그인 폼)
   - ⏳ 밤하늘 메인 페이지
   - ⏳ 질문 페이지
   - ⏳ 에디터 페이지
   - ⏳ 인포그래픽 페이지

4. ⏳ 캔버스 에디터 UI 구현
5. ⏳ 반응형 레이아웃 적용

### Phase 2: 백엔드 개발 (예정)
1. ⏳ Supabase 데이터베이스 스키마 설계
   - users 테이블
   - night_sky_pages 테이블
   - questions 테이블
   - responses 테이블
   - stars 테이블

2. ⏳ Supabase Auth 구현
   - 이메일/비밀번호 인증
   - 소셜 로그인 (Google, Kakao 등)

3. ⏳ 별 생성 로직 구현
   - 응답 데이터 기반 별 속성 결정 알고리즘
   - 랜덤 위치 및 변형 로직

### Phase 3: 프론트-백엔드 연동 (예정)
1. ⏳ API 통신 구현
   - Supabase 쿼리 함수 작성
   - 인증 플로우 연동

2. ⏳ 상태 관리 적용
   - 사용자 인증 상태 관리
   - 밤하늘 데이터 상태 관리

3. ⏳ 데이터 흐름 연결
   - 로그인 → 밤하늘 페이지 이동
   - 질문 응답 → 별 생성 → 캔버스 업데이트

### Phase 4: 고도화 및 배포 (예정)
1. ⏳ 이미지 저장 기능 구현
   - Canvas to PNG/JPEG 변환
   - Supabase Storage 업로드

2. ⏳ 인포그래픽 차트 구현
   - Chart.js 또는 Recharts 선택 및 적용

3. ⏳ 성능 최적화
4. ⏳ 배포 준비

---

## ✅ 현재 진행 상황

**현재 단계:** Phase 1 - 프론트엔드 디자인 및 UI 구축 (진행 중)
**진행 방향:** 디자인부터 완성 후 기능 구현

### 완료된 작업 ✅
1. ✅ React + Vite 프로젝트 초기 설정
2. ✅ 폴더 구조 생성
3. ✅ 기본 라우팅 설정 (React Router)
4. ✅ 디자인 시스템 및 컬러 팔레트 정의
5. ✅ Supabase 클라이언트 연동
6. ✅ GitHub 리포지토리 연동
7. ✅ LoadingPage UI 구현 완료
   - 로딩 애니메이션 및 상태 전환
   - 로그인 폼 UI (이메일/비밀번호 입력, 소셜 로그인)
   - 언어 선택 기능 UI
   - 모바일 반응형 디자인

### 다음 우선순위 작업 🎯
1. **로그인 기능 구현**
   - Supabase Auth 연동
   - 이메일/비밀번호 로그인 로직
   - 소셜 로그인 연동 (Google, Kakao 등)
   - 회원가입 페이지 구현

2. **회원가입 페이지**
   - 회원가입 폼 UI
   - 유효성 검사
   - Supabase Auth 회원가입 로직

3. **밤하늘 메인 페이지 (`/u/{userId}`)**
   - 사용자 밤하늘 조회 UI
   - 별 표시 (Canvas 또는 SVG)
   - 링크 공유 기능
   - 질문 응답 페이지로 이동 버튼

4. **질문 페이지**
   - 5지선다 질문 UI
   - 응답 제출 폼
   - Supabase에 응답 저장

5. **Supabase 데이터베이스 스키마 설계 및 구현**
   - users 테이블
   - night_sky_pages 테이블
   - questions 테이블
   - responses 테이블
   - stars 테이블

---

## 📝 참고사항

- 기존 에셋: `Logo.png`, `BackGround.jpg`
- 상세 기능 명세: `기본 기능.md` 참고
- Supabase URL: `https://aifioxdvjtxwxzxgdugs.supabase.co`
- GitHub 리포지토리: 연동 완료

---

## 🎨 LoadingPage 구현 상세

### 애니메이션 플로우
1. **초기 상태 (0초)**
   - 로고 크기: `w-64 md:w-96` (큰 사이즈)
   - 서브타이틀: `text-lg md:text-xl`
   - 로그인 폼: `max-h-0 opacity-0` (숨김)
   - 언어 선택 버튼: `opacity-0` (숨김)

2. **로딩 완료 (2초 후)**
   - 로고 크기: `w-32 md:w-40` (축소)
   - 서브타이틀: `text-xs md:text-base` (축소)
   - 로그인 폼: `max-h-[700px] opacity-100 translate-y-0` (아래에서 슬라이드업)
   - 언어 선택 버튼: `opacity-100` (페이드인)

3. **트랜지션 설정**
   - 모든 애니메이션: `transition-all duration-1000 ease-out`
   - 부드러운 크기 변화 및 위치 이동

### 레이아웃 구조
```
LoadingPage
├── 배경 이미지 (절대 위치, 전체 화면)
├── 메인 콘텐츠 (상대 위치, z-10)
│   ├── 광고 배너 (h-16, bg-gray-400, mt-8)
│   ├── 중앙 콘텐츠 (flex-1, justify-center)
│   │   ├── 언어 선택 버튼 (절대 위치, top-6 left-6)
│   │   ├── Starry 로고 (Logo.png)
│   │   ├── 서브타이틀 ("당신을 닮은, 단 하나의 별자리")
│   │   └── 로그인 폼 (max-w-[280px])
│   │       ├── 이메일 입력
│   │       ├── 비밀번호 입력
│   │       ├── 로그인 버튼
│   │       └── 간편 로그인 (4개 버튼)
│   └── 하단 정보
│       ├── 로고 (작은 버전)
│       └── 저작권/개발자 정보
```

### 주요 스타일링
- **입력 필드**: `border-2 border-purple-500 shadow-[inset_6px_6px_6px_rgba(0,0,0,0.15)]`
- **로그인 버튼**: `bg-purple-600 hover:bg-purple-700`
- **언어 선택 버튼**: 커스텀 SVG globe 아이콘 + "English" 텍스트
- **모바일 최적화**: 280px 최대 너비, 반응형 텍스트 크기

### 기술적 구현
- **상태 관리**: `useState`로 `isLoaded` 상태 관리
- **타이머**: `useEffect`로 2초 후 `setIsLoaded(true)`
- **클린업**: `clearTimeout`으로 타이머 정리
- **조건부 스타일**: 템플릿 리터럴로 `isLoaded` 상태에 따른 동적 클래스 적용

---

## 🔗 관련 파일

- **src/pages/LoadingPage.jsx**: 로딩/로그인 통합 페이지 (135 줄)
- **src/App.jsx**: 라우팅 설정
- **src/services/supabase.js**: Supabase 클라이언트 초기화
- **src/index.css**: Tailwind 설정 및 커스텀 애니메이션
- **tailwind.config.js**: Tailwind 커스텀 설정
- **.env**: Supabase 환경 변수
